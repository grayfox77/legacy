                             fMSX MS-DOS 1.6b2
                    Emulador MSX para plataforma MS-DOS.
   Codigo Core del emulador copyright (C) 1994, 1995, 1996  Marat Fayzullin
           Esta version copyright (C) 1996,1997  Marcel de Kogel
              MS-DOS(tm) es una marca registrada de Microsoft Corp.

Requerimientos Hardware
=======================
Un 486SX-25 (P66 recomendado)
Una tarjeta de video VGA compatible VLB o PCI
Altavoz PC/Adlib/SB2.0/SBPro/SB16/GUS/SB AWE32/MPU401 y joystick soportados

Ficheros incluidos en FMSX-DOS.ZIP
==================================
FMSX-DOS.EXE El emulador
FMSX-DOS.TXT Este fichero
CWSDMI.ZIP   Un servidor DPMI requerido por FMSX-DOS.EXE
             Si no ejecuta fMSX en una maquina con entorno DPMI (OS/2, MS-
             Windows, Linux DOSEmu, QDPMI, ...), ponga el fichero CWSDPMI.EXE
             incluido en este archivo en alguna parte de su path o dentro del
             directorio del emulador
FILE_ID.DIZ  Una pequeqa descripcion de este programa
Algunas utilidades para usar con fMSX MS-DOS pueden encontrarse en el sitio web
de distribucion fMSX MS-DOS situado en http://www.komkon.org/~dekogel/fmsx.html
El codigo fuente usado de emulacion del Z80 puede encontrarse en
http://www.komkon.org/~dekogel/misc.html
Mas informacion sobre fMSX y MSX en general puede encontrarse en el sitio web de
distibution fMSX situado en http://www.freeflight.com/fms/fMSX

Otros ficheros requeridos por fMSX MS-DOS
=========================================
Los siguientes ficheros son requeridos para la correcta operation pero no son
incluidos en este archivo por razones de copyright:
MSX2.ROM     BIOS del MSX2 y Codigo del BASIC
MSX2EXT.ROM  ExtROM MSX2 con las extensiones de sistema
MSX.ROM      BIOS MSX Standard y codigo BASIC [optional]
MSX2P.ROM    BIOS MSX2+ y codigo BASIC [optional]
MSX2PEXT.ROM ExtROM MSX2+ con las extensiones de sistema [optional]
DISK.ROM     DiskROM MSX conteniendo BDOS y DISK BASIC [optional]
RS232.ROM    BIOS RS232 y extensiones de BASIC [optional]
FMPAC.ROM    Extensiones ROM FM-PAC [optional]
PAINTER.ROM  Extensiones ROM PAINTER [optional]
CMOS.ROM     Este fichero es creado automaticamente y contiene la memoria no-
             volatil usada en MSX2 y MSX2+. Este fichero se reescribira al
             salir si la memoria no-volatil fuera cambiada
Por favor, no pregunte donde puede adquirir estos pues no contestare

Mapeado de teclas
=================
GRAPH  - Alt izquierdo
CODE   - Alt derecho
SELECT - Av. Pag
STOP   - Re. Pag

Teclas especiales
=================
F6  - Rebobinar cinta
F7  - Avanzar cinta
F8  - Crear un imagen de pantalla
F9  - Pausa
F10 - Salir del emulador
F11 - Aumentar el volumem del sonido
F12 - Disminuir el volumem del sonido
CTRL derecho +F8    - Cambiar Sonido on/off
CTRL derecho +F9    - Cambiar opciones
CTRL derecho +1...0 - Cambiar el offset del disco
Teclas de Win95 y de puntero - Espacio
Ctrl izquierdo+Alt izquierdo+Ctrl derecho+Alt derecho - Reset en caliente
Ctrl izquierdo+Shift izquierdo+Ctrl derecho+Shift derecho - Reset en frio

Opciones de linea de comando
============================
Aqui abajo tiene una lista de las opciones a entrar en la linea de comandos.
Muchas opciones pueden ser abreviadas. Use -help para obtener una lista de
las abreviaciones soportadas

-help                   Mostra una pagina de ayuda que describe todo las
                        las opciones de linea de comando
-verbose <flags>        Selecionar el mensaje del debugger [1]
                        0 - Silencio     1 - Mensajes de inicio
                        2 - V9938 ops    4 - Disco
                        8 - Memoria     16 - Operaciones Z80 illegales
-ifreq <frecuencia>     Ajustar la frecuencia de interrupcion [50Hz]
                        La frecuencia de interrupcion por defecto es 50Hz para
                        sistemas PAL (Europa) y 60Hz para sistemas NTSC (America
                        y Japon). Si cree que sus juegos se ejecutan lentamente
                        , pruebe usar -ifreq 60
-sync <modo>            Ajustar el modo de syncronizacion [1]
                        0 - No syncronizar la emulacion
                        1 - Syncronizar la emulacion en cada interrupcion VDP
-adjust <modo>          Ajustar el modo de emulacion de los ajustes la pantalla VDP [0]
                        0 - No emular los ajustes de pantalla VDP
                        1 - Emular solo los ajustes horizontales
                        2 - Emular solo los ajustes verticales
                        3 - Emular completament los ajustes de pantalla VDP
                        Por favor anote que algunas lineas pueden no aparecer en
                        pantalla si los ajustes de pantalla VDP son activados
-linedelay <valor>      Ajustar el tiempo de refresco de la pantalla [3 scanlines]
-cpuspeed <porcentaje>  Ajustar la velocidad de la CPU Z80 [100%]
-uperiod <periodo>      Ajustar el numero de interrupciones para cada refresco de pantalla [2]
-sprite <modo>          Seleccionar el modo de emulacion de los sprites [0]
                        0 - Mostrar todos los sprites
                        1 - Limitar el numero de sprites por linea a 4/8
                        Aunque algunos juegos requieren -sprite 1 para una correcta
                        visualizacion, causara parpadeos de sprites con muchos otros
-printer <nomb_fichero> Redireccionar la salida de impresora a un fichero [stdout]
-serial <nomb_fichero>  Redireccionar el puerto de serie I/O a un fichero [stdin/stdout]
-ram <paginas>          Numero de paginas de 16kB RAM [4/8/8]
                        Muchos juegos basados en discos requieren mas de 128KB RAM.
                        Pruebe usando -ram 16 o -ram 32 si tiene problemas para ejecutar
                        estos juegos
-vram <paginas>         Numero de paginas 16kB VRAM [2/8/8]
-msx1/-msx2/-msx2+      Seleccionar el modelo de MSX [-msx2]
-rom <tipo>             Seleccionar el tipo de mapeador MegaROM [0,0]
                        (dos opciones -rom pueden estar presentes)
                        0 - Konami 8kB    1 - Konami 16kB
                        2 - Konami5 8kB   3 - Konami4 8kB
                        4 - ASCII 8kB     5 - ASCII 16kB
-diska <nomb_fichero>   Ajustar la imagen de disco usada por la unidad lectora A: [LECTORA.DSK]
                        Tambien son soportadas unidades lectoras fisicas, ej. "-diska A:"
                        usara la unidad lectora A: del PC. Los disquetes son soportados tanto si
                        son de simple o de doble cara
-diskb <nomb_fichero>   Ajustar la imagen de disco usada por la unidad lectora B: [LECTORB.DSK]
-tape <nomb_fichero>    Seleccionar la imagen de cinta [MSX.CAS]
                        No hay limite en cuanto a duracion de la imagen de cinta
-font <nomb_fichero>    Ajustar la fuente fija para los modos texto [ninguna]
-logsnd <nomb_fichero>  Escribe todo el sonido en un fichero [desactivado]
-painter <modo>         Cargar/No cargar la PAINTER.ROM [0]
                        0 - No cargar la PAINTER.ROM
                        1 - Cargar la PAINTER.ROM
-video <modo>           Seleccionar el modo de video [0]
                        0 - 320x200   1 - 320x240
                        2 - 640x480   3 - 256x212
                        Los modos de video 1 y 3 pueden no ser compatibles con
                        su tarjeta de video y/o monitor. Para el modo de video 2,
                        necesitara una tarjeta de video compatible VESA
-chipset <id>           Seleccionar el chipset SVGA [255]
                        0 - VESA
                        1 - S3
                        255 - Detectar
                        Soporte para mas chipsets populares pueden ser aqadidas en
                        versiones futuras
-modeswitch <modo>      Permite/No permite cambiar de modo VGA [0]
                        0 - No permitir cambiar de modo VGA
                        1 - Permitir cambiar de modo VGA
                        Si esta opcion se activa, el juego usara el modo de
                        video 2 y 3
-gamma <valor>          Seleccionar el valor de ajuste gamma [1.0]
-sound <modo>           Seleccionar el modo de sonido [255]
                        0 - Sin sonido
                        1 - Altavoz interno
                        2 - Adlib
                        3 - Sound Blaster
                        4 - Gravis Ultrasound
                        5 - SB AWE32
                        255 - Detectar
-stereo <nivel>         Ajustar el nivel de panning stereo (solo SB AWE32) [0]
                        0 - Mono    100 - Maximo
-speakerchannels        Ajustar la lista de prioridades para canales de sonido (solo altavoz
<listado>               interno) [3,2,1]
                        1-3 = PSG Melodia
                        4-6 = PSG Ruido
                        7-11 = SCC
                        Muchos juegos usan el canal 3 para sus efectos de sonido
                        y los canales 1 y 2 para sus melodiad. Pruebe usar
                        3,1,2 si la lista por defecto no le da la calidad de sonido
                        deseada
-volume <volumen>       Ajustar el volumen inicial [10]
                        0 - Bajado    15 - Maximo
-reverb <nivel>         Ajustar el nivel de reverbacion enviado (solo SB AWE32) [7]
                        0 - Ninguno  100 - Maximo
-chorus <nivel>         Ajustar el nivel de chorus enviado (solo SB AWE32) [0]
                        0 - Ninguno  100 - Maximo
-soundquality [-sq]     Ajustar la calidad del sonido (solo SoundBlaster) [3]
<valor>                 Valor entre 1 (baja) y 5 (muy buena)
-scc <modo>             Ajustar el modo de emulacion SCC [1]
                        0 - Emulacion SCC desactivada
                        1 - Emulacion SCC activada
-fmpac <modo>           Ajustar el modo de emulacion FM-PAC [0]
                        0 - Emulacion FM-PAC desactivada
                        1 - Emulacion FM-PAC via OPL2 (Adlib)
                        2 - Emulacion FM-PAC via MPU401 (General MIDI)
                        3 - Emulacion FM-PAC via MPU401 y OPL2
                        FM-PAC solo puede estar activado si FMPAC.ROM se
                        encuentra en su directorio MS-DOS fMSX
-joystick <modo>        Seleccionar el modo de joystick [1]
                        0 - No soportar joystick
                        1 - Emular joystick en puerto 1
                        2 - Emular joystick en puerto 2
                        El segundo joystick de PC no es soportado (todavia)
-swapbuttons <modo>     Intercambiar/No intercambiar botones [0]
                        0 - No intercambiar los botones del joystick
                        1 - Intercambiar los botones del joystick

Emulacion de cinta
==================
La emulacion de cinta no esta acabada. Grabar y cargar ficheros desde
el BASIC funciona correctamente (Metal Gear graba perfectamente), pero hay
problemas creando imagen de cinta desde cintas de MSX reales. No hay ningun
programa junto al emulador que pueda hacerlo

Soporte para juegos en Multi-disco
==================================
En la version 1.6b1, fMSX MS-DOS soporta imagenes de discos multiples. Para crear
uno, simplemente copie varios discos en 1 imagen como aqui indica: "COPY /B
DISCO1.DSK+DISCO2.DSK MULTI.DSK", ejecute el emulador con la imagen de disco
resultante como disco A, y presione CTRL DERCHO+1..0 cuando el juego le diga de
insertar un nuevo disquete. Por favor anote que esto solo funciona para las
imagenes de disco con doble cara (los de 720Kb)

Captura de pantalla
===================
Siempre que presione F8 para grabar el contenido de la pantalla en un fichero, el
emulador creara un fichero fMSXxxxx.BMP, donde xxxx es un numero asendiente
que empieza a 0000, el cual sera un fichero windows bitmap (BMP) con 256 colores

Ponerle opciones al emulador
============================
Con el numero de opciones de linea de comando que fMSX MS-DOS soporta, es facil
crear lineas de comando mas largas de lo que el limite de 126 bytes del DOS
permite. Si experimenta problemas con la largura de la linea de comando, ponga
todas las opciones dentro de un fichero temporal (como, "FichTemp.tmp"), y
ejecute el emulador con la linea de comando "fMSX-DOS @FichTemp.tmp".
Tambien puede poner opciones de linea de comando extra cuando usa este metodo,
como `fMSX-DOS @MiConfig.cfg -ifreq 60 Pacman.rom'

Ficheros de configuracion
=========================
El emulador carga tres ficheros de configuracion (si estan presentes) antes
de iniciar el MSX: fMSX-DOS.cfg situado dentro del directorio del emulador y
CARTA.cfg y CARTB.cfg situados dentro del directorio de cartuchos (cartridge).
Son ficheros de texto que contienen opciones de linea de comando. Las opciones
pueden ser separadas con espacios, tabuladores or intros

Primeras ayudas
===============
- Si un juego se ejecuta un poco lentamente, pruebe usar -ifreq 60
- Si el emulador ejecuta todos los juegos muy lentamente, pruebe disminuir la
  velocidad de CPU a 50%-70%. Tambien puede probar -sync 0. Si usa una
  SoundBlaster, pruebe disminuir la calidad de sonido o use el modo Adlib
- Si quiere que sus juegos se ejecuten mas rapidamente, incremente ifreq. Si
  prefiere que se ejecuten mas lentamente, disminuya ifreq
- Si no tiene un MSX propio con disquetera y quiere crear un disquete MSX,
  siga estas instrucciones: Formatee un disquete de 3'5 pulgadas con formato
  Standard DOS de 720KB y inicie fMSX MS-DOS con la opcion "-diska A:"
  (o "-diska B:") sin el disquete insertado en la disquetera. Despues de que
  el BASIC-MSX se haya iniciado, inserte el disquete dentro de su disquetera
  y teclee "CALL FORMAT". Elija la disquetera A con doble cara, y espere hasta
  que el formateado haya terminado.

Historial
=========
1.6b2 Aqadidas las opciones -sprite, -gamma y -painter asi como soporte para
      capturar pantallas. Varios fallos corregidos en la emulacion VDP, emulacion
      acelerada, sustitucion del codigo Z80 de Marat con el Z80Em 1.2
1.6b1 Varios fallos de interrupcion corregidos, aqadido el soporte para imagen
      de juego multiple, soporte para General MIDI y algunas opciones diversas
1.4.1 Arreglos mayores en cuanto a soporte para SoundBlaster, aqadida la emulacion
      FM-PAC, algunos fallos corregidos
1.3.1 Incremento de velocidad, un monton de fallos corregidos, aqadido el soporte
      para el altavoz del PC, SB, GUS y AWE32, aqadido el soporte para S3, aqadida
      la emulacion de cinta y soporte para fichero de configuracion
1.2.3 Aqadido el control de volumen, opciones de joystick, opciones de cambio de
      modo, modo de video 3, avances en cuanto a sonido, velocidad incrementada,
      algunos fallos corregidos
1.2.2 Aqadido el soporte para joystick, aqadida la emulacion de SCC y avances en
      cuanto a la emulacion de PSG, aqadido soporte para VESA, velocidad
      incrementada, varios fallos corregidos
1.2.1 Version inicial

Creditos
========
- fMSX MS-DOS ha sido compilado usando DJ Delorie's DJGPP v2.0. DJGPP es un
  compilador C de 32 bit para MS-DOS. El codigo fuente y los binarios de DJGPP son
  disponibles en http://www.delorie.com
- Las rutinas de SB AWE32 son mayormente basadas en `The Unofficial Sound
  Blaster AWE32 Programming Guide' ('La guia de programacion no-oficial de la
  Sound Blaster AWE32') escrita por Vince Vu a.k.a. Judge Dredd. Un milion de gracias
  por escribirlo!
- Martijn Zeedijk probo las rutinas GUS y me ayudo en corregir muchos fallos
- Algunas partes del codigo han sido tomadas de Allegro. Allegro es una libreria
  para DJGPP escrita por Shawn Hargreaves. Allegro es disponible en
  ftp://x2ftp.oulu.fi/pub/msdos/programming/djgpp2

Por favor envie sus comentarios a Marcel en
m.dekogel@student.utwente.nl

Traducido al castellano por Olivier IRANZO ANGUIX
                            STYLMAK@teleline.es
