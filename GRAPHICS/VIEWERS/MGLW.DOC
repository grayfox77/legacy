▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼▽▼

  MMS <MAG> Graphic Loader (wide)				MGL.COM

	ＭＧＬＷ ver0.01

		動作機種：MSX2+/turboR
				VDP : V9958

		動作環境：MSX-DOS2
				MMS(Memory-Mapper) : 1seg or over

	copyright (c)1996	Hiroyuki_KAKAMI		各務 裕之

▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲△▲



■【概要】

　MSX-DOS2 の外部コマンドとして動作する、画像ローダです。
　表示方法には、以下が選択できます。

	・ＹＪＫモード (256x424:19268)，単純閾値法
	・ＲＧＢモード (256x424:  256)，単純閾値法


　以下の画像フォーマット（拡張子）に対応しています。

	・鮪 (MAG) フォーマット				.MAG
	・SC8 ベタ (Non-interlace)			.SC8 .S18
	・SC12ベタ (Non-interlace)			.SCC .S1C


　以下の説明のうち、次のような文字はそれぞれ次の意味を表します。
	< ･･ >	：　省略不可能
	[ ･･ ]	：　省略可能



■【使用方法】

　MGLW は MSX-DOS2 上で使用します。usage は次のようになります。

	:> MGLW.COM  <ファイル>  [オプション]


《ファイル》
　画像ファイルを、Drive-Path-File で指定します。

　ワイルドカードの指定も可能です。その場合、キー入力によって設定を変えた
場合も、次のファイルでは強制的にオプションによる設定に戻されます。
　ただし、表示方法（ＹＪＫ／ＲＧＢ）だけは継続されます。


《オプション》
　オプションは大文字でも小文字でも構いません。
　１つのオプションの前には、必ず１つの "/" を付けてください。


  /H	: help
		ヘルプを標準出力に表示します。

  /S[n]	: screen
		表示方法を選択します。
			1 : ＹＪＫ
			2 : ＲＧＢ (default)

  /A	: auto							(default)
		画像の横サイズに合わせて、自動的に表示型式を変更します。
			・256		: [M]+[K]	: middle x2
			・512		: [M]		: middle
			・〜640		: [W]		: wide
			・641〜		: [F]		: full

  /M	: middle
		画像の横サイズ = 512 と見なします。

  /W	: wide
		横に 4/5 に縮小して表示します。
		画像の横サイズ = 640 と見なします。

  /F	: full
		横一杯に詰めて表示します。



《キー操作》	（画像表示中）
　画像表示中はキー反応が若干鈍い為、比較的長く押し続けて下さい。

  [SPC]	 [trgA]		次のファイルへ移ります。

  [ESC]	 [trgB]		動作を終了して、DOS へ戻ります。

  [RET]			表示を中断します。


《キー操作》	（画像表示終了後）

  [SPC]	 [trgA]		次のファイルへ移ります。

  [ESC]	 [trgB]		動作を終了して、DOS へ戻ります。

  [@]			設定を変更せずに再表示します。

  [S]+[1] [F1]		表示方法をＹＪＫモードに変更します。
  [S]+[2] [F2]		表示方法をＲＧＢモードに変更します。

  [M] [W] [F] [A]	表示型式を変更します。

  [K] [J]		拡大／縮小表示します。
			表示型式の変更（[M],[W],[F],[A]）で解除されます。

  [↑] [↓] [←] [→]	任意スクロールします。
			画像のサイズに応じた空きＭＭＳが必要です。
			容量が足りない場合、途中までしか正常に表示されません。


《環境変数》

　MGLOPT	ディフォルトオプションを記述することが出来ます。
		解除出来ないオプションは避けて下さい。



■【エラー】

・Not MSX-DOS2.
　　DOS1や他のCP/M等で起動したときに表示されます。

・Bad option.
　　存在しないオプションを指定したときに表示されます。

・Too many Parameters.
　　パラメータの数が多すぎます。

・Bad Environment-option.
　　環境変数 "MGLOPT" に書かれた内容が不正です。

・Not enough TPA.
　　ＴＰＡサイズが不足しています。

・Not enough Memory-mapper segments.
　　メモリマッパー（プライマリ）のフリーセグメント数が不足しています。




■【諸注意】

　ＶＤＰの I/O ポートアドレスを n=n'=98h と固定している為、これ以外のＭ
ＳＸでは動作しません。（動作機種が MSX2+ 以上なので、問題無いと思います）

　ＭＭＳは最低でも１セグメント以上必要です。外部ＭＭＳにも対応しています。
不足する場合は実行出来ません。
　任意スクロールの際は、領域に応じたセグメントが必要です。不足する場合は
画面表示が正常に行われません。

　表示中に効くキーは、[SPC] [ESC] [RET] [trgA] [trgB] だけです。
　[RET] さえ押せば全てのキーが有効になります。



■【参考】

・ソフトバンク
		まぐろのすべて					（￥２９００）
							  まぐろＢＢＳ 編・著

・ソフトバンク
		Ｏｈ！Ｘ 1995-10 特集「Now Printing」
			減色処理と印刷いろいろ			      瀧 康史



■【使用および配布について】

　このソフトウェアは Free-ware です。著作権は作者が保持しています。営利
・非営利を問わず、誰でも無料で使用することができます。

　転載・配布は自由です。確認及び連絡なども、特に必要としません。
　各自に於いて改良・改造したものは、その旨（原作者名，改造者名，改造箇所）
を明記した上で、配布は自由とします。

　このソフトウェアを使用した結果の影響については一切の責任を負いかねます
ので、あらかじめご了承ください。



■【奥付】

　また、つまらぬものを組んでしまった…。

　あまりに遅いので、実用には適しません。その上、ＭＭＳがＭＢ単位無いと画
面がぐちゃぐちゃになるし。
　横スクロール機能を廃止して、もっと高速化した方が良いかも。

　事の発端は、PIC2 ローダがあまりに難解な為 MAG から手を付けてみようか、
という軽い気持ちだったんだけど、いつもの如く原因不明のバグに悩まされ（原
因は "dec hl" と書かねばならない場所が "dec l" だった）、またまたＡＸＳ
のＣＤが回り続ける…。「同じ場所をぐるぐると」
　MAG ローダなのに、表示方式に GRP6 モードが無いというのも、なんだかなぁ。

　それにしても、今回初めて V9958 の横スクロール機能を使ってみたんだけど、
使って判るこの理不尽さ。ドット単位でスクロールさせようとすると、画面左端
が揃わないなんて。マスクすると８ドット欠けてしまうし。
　結局、８ドット単位でスクロールすることにしました。スクロール方向に一瞬
ゴミが出てしまうけど、どうやっても垂直帰線中に書き終えることが出来なかっ
たので、仕方なく諦めました。

　多分これは ver0.00 で打ち切りです。悪しからず。


				〒500 岐阜市宇佐南１-２-５
							各務 裕之 （ＡＰｉ）

	東京	Natsume-Net				NAT26323
	東京	MARIO-NET				API
	岐阜	あしながねっと				API
	大阪	Illusion City				API
	愛知	PrincessPrincess-NET			API
	石川	ネットフレンティ金沢			NWC03867

	E-mail	:     kakami@toriwaki.nuie.nagoya-u.ac.jp
	URL	: http://www.toriwaki.nuie.nagoya-u.ac.jp/~kakami/


[eof]
