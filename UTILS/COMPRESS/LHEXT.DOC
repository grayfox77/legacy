■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■

　　　ＭＳＸ−ＤＯＳ用．ＬＺＨエクストラクタ　ＬＨｅｘｔ

■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
					LHext Version 1.33
					Copyright (C) 1995 by KYOJU


　ＭＳＸ−ＤＯＳで.LZHファイルを解凍するツールです。
　-lh6-にも対応し、-lh5-の解凍ではPMextより高速です。


●動作環境

　ＭＳＸ−ＤＯＳ（１）で動作します。

　マッパＢＩＯＳのないMSX-DOS(1)で、本体のＶＲＡＭが６４Ｋのシステムでは -lh6-
-lh7-の解凍はできません。-lh5-はこのシステムでも解凍可能です。


●起動書式

LHEXT [命令] [書庫名] [メンバー名..] [{/|-}オプション..]

　[命令]	LHextの動作を指定します。
		省略した場合は e コマンドが選ばれます。
		通常はオプションを除いた先頭に書かなければなりませんが、/または
		-記号を前に付けることで書式のどの位置にでも書くことができます。

　[書庫名]	書庫ファイル名を指定します。
		拡張子を省略すると、.LZHとみなします。
		書庫名の指定を省略すると、ヘルプメッセージが出ます。

　[メンバー名]	書庫内に納められているファイルで、処理したいものを指定します。
		ワイルドカードが使えます。複数指定することもできます。
		メンバー名の指定を省略すると、*.*が指定されたことと同じになりま
		す。

　[オプション]	動作設定に使います。
		オプションは、書式中のどこに入れても構いません。

　どの要素も、大文字、小文字は区別しません。


●命令

【e (Extract) 解凍】

　書庫から、指定したメンバーを解凍します。

　同名ファイルで、タイムスタンプの新しいものが解凍先にあると、通常はスキップし
ますが、/Oオプションで強制上書きできます。

　解凍先ドライブを、/D<d>オプションで指定することができます。例えば、/DHを指定
するとＨドライブに解凍します。

　コマンドを省略すると、この e コマンドになります。

(例1)	A>LHEXT KJFOS173
	KJFOS173.LZH内の全ファイルを解凍します。

(例2)	A>LHEXT KJFOS173 *.DOC *.COM
	KJFOS173.LZH内の拡張子DOCのファイルと拡張子COMのファイルを解凍します。

(例3)	A>LHEXT KJFOS173 KJFOS.COM /O
	KJFOS173.LZHからKJFOS.COMを上書きモードで解凍します。

(例4)	A>LHEXT /DH EX K*.*
	EX.LZH内のKで始まる名前のファイルをドライブＨに解凍します。


【x (eXtract with directory)  ディレクトリ付き解凍】

　書庫にパス名が記録されている場合、そのパスに解凍します。ディレクトリを掘るこ
とができれば掘ります。

　MSX-DOS2の時のみ有効で、MSX-DOS1では e コマンドと同じです。

　e コマンド時と同様に、/Oオプション、/Dオプションが有効です。

(例5)	A>LHEXT X LSIC330
	LSIC330.LZHをディレクトリ付きで解凍します。

(例6)	A>LHEXT X LSIC330 *.EXE *.H /O
	LSIC330.LZHから拡張子EXEのファイルとHのファイルをディレクトリ付きで解凍
	します。この時、上書きモードにします。


【l (List)  一覧】

　書庫内のメンバーの一覧を表示します。
　パスも記録されているメンバーには、ファイルの頭に｢+｣を表示します。

　この表示は、DOS1でもリダイレクトすることができます。

(例7)	A>LHEXT L TEST
	TEST.LZH内の全ファイルを表示します。

(例8)	A>LHEXT LSIC330 *.OBJ /L >LSIC_OBJ.LST
	LSIC330.LZH内の拡張子OBJのファイルの一覧を、LSIC_OBJ.LSTというファイル
	に書き出します。


【v (View)  一覧】

　書庫内のメンバーの一覧を表示します。
　l コマンドと似ていますが、パスが記録されていれば、それも表示します。


【t (Test)  検査】

　書庫のテストを行います。書庫内のファイルのＣＲＣをチェックすることによって、
ファイルが壊れていないかどうかを調べます。

(例9)	A>LHEXT T TESTPACK
	TESTPACK.LZH内の全ファイルをチェックします。


●オプション

【/O[+|-]　上書きモード指定】

　解凍時、解凍先に同名ファイルが存在したときに、上書きするかどうか指定します。
　e コマンドと x コマンドで有効です。

　/O+ とすれば上書きし、/O- とすればスキップします。
　[+|-]を省略し、/O とだけすると現在の状態が反転します。起動時の状態は/O-です。


【/D<drive>  解凍先ドライブ指定】

　解凍先ドライブを<drive>にします。
　e コマンド、x コマンドで有効です。


●環境変数LHEXT

　環境変数LHEXTにデフォルトのコマンドやオプションを書いておくことが出来ます。但
し、DOS2の時のみ有効です。

(例10)A>SET LHEXT=X /O

　このようにしておけば、コマンドを省略すると x コマンドが選ばれ、常に/Oオプショ
ンがかかるようになります。
　この状態で/Oオプションを外して起動するには、コマンドラインで/O-を指定します。

(例10-1)A>LHEXT /O- TEST.LZH


●対応圧縮形式

以下の圧縮形式は解凍できます。
	-lh0-	非圧縮の形式です
	-lh1-	昔の LHarc.exe(MS-DOS)や、LHA.COM(CP/M)で圧縮したものです
	-lh5-	LHa.exe(MS-DOS)で圧縮したものです
	-lh6-	試作中(95/3/6現在)の新版LHA(MS-DOS)で圧縮したものです
	-lhd-	新版LHA(MS-DOS)で作成できる、空のディレクトリです

	-lh4-	-lh5-で辞書サイズが半分の形式。しかし、-lh5-と同じと「みなす」
		ことも出来るので、実際は-lh4-だが、-lh5-と記録されている場合も
		あります。
	-lh7-	新版LHA(MS-DOS)で一応規格はあるのですが、まだこの形式で圧縮する
		ことはできないようです。

以下の圧縮形式は、対応していません
	-lh2- -lh3- -lzs- -lz5- -pm1- -pm2-

　圧縮形式は l コマンドで確認できます。l コマンドでリストを表示できないようなも
のは、そもそも対応していない書庫です(^^;
　上に挙げた形式では、解凍は非対応でも、l コマンドでリストを表示させることは可
能です。

　-lhd-は、xコマンドでないと解凍(?)しません。


●使用条件

　本ソフトは著作権を放棄しない、フリーソフトウェアです。以下の範囲内で自由に使
用して結構です。

o 著作権表示を変更しないこと。
o このドキュメントと共に配付すること。
o このプログラムを運用した結果、障害が起こっても保障しない。
o このプログラムに不備があっても作者は訂正の義務を負わない。
o 商品に組み込んで使用する場合、少なくとも１か所に著作権表示を行うこと。
o 改変を加えたものを配付する場合は、改編者の氏名（ハンドル）、及び変更が加えら
　れていることを明示すること。

上記が守られてあれば、転載に際して特に許可を必要としません。


●感謝

  LHA.EXE LHARC.EXE は吉崎栄泰氏のフリーソフトウェアです。

　本ソフトの作成には、吉崎栄泰氏のソースと、Ｄ坊氏のＣ言語のソースを主に参考に
しました。

　有用なソフトウェアをフリーで公開して下さり、ソースまでフリーで公開して下さっ
た吉崎氏、そのソースを理解し易いＣ言語の形にして公開して下さったＤ坊氏の両氏に
は、この場で感謝の意を表したいと思います（といっても、届かないでしょうが(^^;）


●連絡先

  ［電子メール］

          NIFTY-Serve      TBE03371     きょうぢゅ
          PC-VAN           CWJ48302     きょうぢゅ
          KONEMI-Station   kon027       きょうぢゅ
          Illusion City    KYOJU        きょうぢゅ
          PP-NET           KYOJU        きょうぢゅ

  ［郵便］（どうしても連絡が難しい場合のみ使ってください）

    　    〒606　京都市　左京区　吉田神楽岡町　３−２
    　　　　　　 グリーンハイツ田島２１２
                                                 岩田智哉











           1995/1/21      Ver1.00      BGM::pearl jam    "vitalogy"
           1995/1/27      Ver1.11      BGM::SOUNDGARDEN  "SUPERUNKNOWN"
           1995/1/28      Ver1.12      BGM::SOUNDGARDEN  "SUPERUNKNOWN"
           1995/2/6       Ver1.14      BGM::GUNSN' ROSES "USE YOUR ILLUSION II"
           1995/2/9       Ver1.15      BGM::U2           "WAR"
           1995/3/6       Ver1.30      BGM::PIXIES       "SURFER ROSA"
           1995/3/17      Ver1.33      BGM::TAPE (ORIGINAL EDITION)







           LHext Version 1.33 Copyright (C) 1995 By Tomoya Iwata.
                           All Rights' Reserved.



　そんなこんなでバグフィックスです。

　自分ではもうＴＰＡぎりぎりのつもりだったんですが、よく調べたら結構余裕がある
みたいです。

　ぎりぎりなのはLHpackの方でした。あっちは本当にぎりぎりなので、もしかしたら漢
字ドライバインストール状態でＴＰＡが足らないかも知れません（ここで書いても意味
ないｿﾞ）。

　余裕があると言っても、あんまりこれ以上機能増やしたくはないです。もう結構疲れ
てきたので（笑）

　あと機能増やす余地があるとしたら p コマンド（コンソールへ打ち出す）くらいか
な？でもこれって、ＭＳＸ−ＤＯＳではあんまし役に立たない気もしますしねえ(^^;。
普段は「当然」ANKモードでしょうし（笑）。

　あ…そういえば、【ﾋﾟｰ】対応ってのもあったな…。せっかく【ﾋﾟｰ】の【ﾋﾟｰ】もらっ
たことだし、LHextに取り込んでしまおうか…。しかし今は疲れててやる気ない(^^;ｵｲ

　まあしかし、LHext LHpack もこれでようやくひと区切りかな…。しかしまだ最後の仕
上げが残ってるけど(ﾆﾔﾘ)

　　　　　　　　　　　　　　　　　　　　　　1995/3/17記す　きょうぢゅ

余談》…もしかしたらsfxの方が解凍速いかも（汗）
[EOF]
